<form (ngSubmit)="onSubmit(action)" #sessionForm="ngForm">

  <div md-dialog-content
       fxLayout="column">
    <md-input-container *ngIf="action === 'register'">
      <input mdInput
             name="band-name"
             required
             [placeholder]="'session.band.placeholder' | translate"
             [(ngModel)]="band">
    </md-input-container>

    <md-input-container *ngIf="action === 'register'">
      <input mdInput
             name="username"
             required
             [placeholder]="'session.user.name.placeholder' | translate"
             [(ngModel)]="username">
    </md-input-container>

    <md-input-container *ngIf="action === 'register' ||
                               action === 'login' ||
                               action === 'forgotPassword'">
      <input mdInput
             name="useremail"
             type="email"
             required
             [placeholder]="'session.user.email.placeholder' | translate"
             [(ngModel)]="useremail">

      <md-hint *ngIf="action === 'forgotPassword'">
        <span translate>session.forgotPassword.email.hint</span>
      </md-hint>
    </md-input-container>

    <md-input-container *ngIf="action === 'login'">
      <input mdInput
             name="userpassword"
             type="password"
             required
             [placeholder]="'session.user.password.placeholder' | translate"
             [(ngModel)]="userpassword">

    </md-input-container>

    <div *ngIf="action === 'login'" class="forgot-password-link">
      <a (click)="action = 'forgotPassword'">
        <span translate>session.login.forgotPassword.question</span>
      </a>
    </div>
  </div>

  <div *ngIf="action === 'sentPasswordEmail'" class="sent-password-email-text">
    <span translate>session.sentPasswordEmail.text</span>
  </div>

  <div md-dialog-actions>
    <div fxFlex></div>

    <button md-button
            type="button"
            color="primary"
            class="dialog-button"
            *ngIf="action === 'register' ||
                   action === 'login' ||
                   action === 'forgotPassword'"
            (click)="cancel()">
      <span translate>session.cancel</span>
    </button>

    <button md-raised-button
            type="submit"
            color="primary"
            [disabled]="!sessionForm.form.valid"
            class="dialog-button">
      <span translate>{{ 'session.' + action + '.confirm' }}</span>
    </button>
  </div>`

  <div class="other-action-link"
       *ngIf="action === 'register' ||
              action === 'login' ||
              action === 'forgotPassword'">
    <span translate>{{ 'session.' + action + '.otherAction.question' }}</span>
    <a href="#" (click)="action = switchAction()">
      <span translate>{{ 'session.' + action + '.otherAction.link' }}</span>
    </a>

  </div>
</form>
